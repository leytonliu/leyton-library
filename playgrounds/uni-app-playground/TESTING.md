# CMS Vue3 组件测试指南

## 🚀 快速开始

### 1. 启动项目

```bash
# 安装依赖（如果还没安装）
npm install

# 运行项目
npm run dev:h5
# 或其他平台
npm run dev:mp-weixin
```

### 2. 访问测试页面

启动项目后，会自动打开首页，点击 **"CMS Vue3 测试"** 按钮即可进入测试页面。

或者直接访问：`/pages/cms-test/index`

## 📋 测试页面说明

测试页面使用 `src/mockData.json` 中的数据来渲染 CMS 组件。

### mockData.json 包含的组件

这个 mock 数据来自真实的欧莱雅PRO商城首页，包含了以下组件：

- **轮播容器** (carousel-container) - 11个轮播图
- **图片组件** (image) - 各种图片展示
- **多行容器** (rows-container) - 垂直布局
- **多列容器** (column-container) - 水平布局
- **文本组件** (text) - 文字展示
- **左右滑动** (graphic-slide) - 热门课程滑动
- **卡片堆叠** (card-stack) - 品牌故事卡片
- **弹框容器** (dialog-container) - 多个定时弹窗

## 🔍 如何测试

### 基本验证

1. **页面加载** - 页面应该能正常加载，不报错
2. **组件渲染** - 各个组件应该正确显示
3. **图片加载** - 图片应该能正常加载显示
4. **交互功能** - 轮播应该能自动播放

### 控制台调试

打开浏览器控制台（F12），查看：
- 是否有错误信息
- 组件数据是否正确加载
- Vue DevTools 中组件层级是否正确

### 预期行为

✅ **应该看到：**
- 顶部横幅轮播（11张图片）
- "产品百科"板块（卡片轮播）
- "使用助手"板块（工具图片）
- "热门课程"板块（左右滑动）
- "潮流资讯"板块（瀑布流布局）
- "欧莱雅PRO"品牌区（卡片堆叠）
- 页脚备案信息

## 🐛 常见问题

### 问题1：页面显示空白

**原因**：可能是某些组件还未完全迁移到 Vue3

**解决**：
1. 打开浏览器控制台查看报错信息
2. 检查报错的组件名称
3. 参考 `src/components/cms-v3/README.md` 中的迁移指南
4. 按照模板迁移对应的组件

### 问题2：组件显示但样式不正确

**原因**：样式可能需要调整

**解决**：
1. 检查组件的 `style` 属性是否正确传递
2. 查看组件的 CSS 样式是否生效
3. 对比 Vue2 版本的组件样式

### 问题3：图片无法加载

**原因**：图片 URL 可能需要网络访问

**解决**：
- 确保网络连接正常
- mockData 中的图片都来自 `static-d2s-prod.platform-loreal.cn`
- 如果无法访问，可以替换为本地图片测试

### 问题4：交互功能不工作

**原因**：action 或 binding 可能还未完全适配

**解决**：
1. 检查 `createCmsActionRender.js` 和 `createCmsBindValue.js`
2. 确认事件绑定是否正确
3. 查看控制台是否有 action 相关的错误

## 📝 测试清单

在测试时，建议按照以下清单逐项验证：

- [ ] 页面能够正常打开，不报错
- [ ] 轮播容器正常显示并自动播放
- [ ] 所有图片正确加载
- [ ] 文本组件正确显示
- [ ] 容器组件布局正确（多行、多列）
- [ ] 左右滑动组件可以滑动
- [ ] 卡片堆叠组件可以切换
- [ ] 弹框按时间规则显示（如有配置）
- [ ] 点击事件正常触发（action）
- [ ] 没有控制台错误

## 🔧 修改测试数据

如果需要使用自己的测试数据：

1. 修改 `src/mockData.json`
2. 或者在测试页面 `src/pages/cms-test/index.vue` 中修改 `mockData` 引用

```javascript
// 使用其他 JSON 文件
import customData from '@/your-custom-data.json';
pageData.value = customData;
```

## 📖 进一步学习

- **迁移指南**：`src/components/cms-v3/README.md`
- **Vue3 文档**：https://cn.vuejs.org/
- **Composition API**：https://cn.vuejs.org/guide/extras/composition-api-faq.html

## 💡 提示

1. **渐进式迁移**：不需要一次性迁移所有组件，可以根据实际使用情况逐步迁移
2. **参考示例**：已经迁移了 `cms-image`, `cms-text`, `cms-button` 作为参考
3. **保持一致**：迁移时保持与 Vue2 版本功能一致，样式和交互尽量相同
4. **测试驱动**：每迁移一个组件就在测试页面验证

## 🎯 下一步

1. 运行项目并访问测试页面
2. 查看是否有组件报错或显示异常
3. 根据报错信息，参考迁移指南逐个修复
4. 所有组件都正常后，就可以在实际项目中使用了

---

**祝测试顺利！** 🎉

如有问题，请查看 `src/components/cms-v3/README.md` 获取详细的迁移指南。
